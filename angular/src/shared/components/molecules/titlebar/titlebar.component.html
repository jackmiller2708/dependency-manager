<div class="flex gap-2 items-center">
  <app-icon
    size="2rem"
    viewBox="0 0 576 512"
    fill="#FFF"
    path="M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"
  ></app-icon>
  <span class="no-drag cursor-pointer opacity-80 hover:opacity-100" #menuTrigger (click)="onMenuTriggerClick()">
    <app-icon 
      viewBox="0 0 448 512"
      fill="#FFF"
      path="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"
    ></app-icon>
  </span>
</div>

<div *ngIf="title" class="text-white absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
  {{ title }}
</div>

<div class="h-full no-drag flex">
  <span title="Minimize" class="h-full px-4 flex items-center justify-center hover:bg-gray-700 transition-colors" (click)="onMinimizeControlClick()">
    <app-icon
      fill="#FFF"
      viewBox="0 0 448 512"
      path="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"
    ></app-icon>
  </span>
  <span *ngIf="isMaximized" title="Restore Down" class="h-full px-4 flex items-center justify-center hover:bg-gray-700 transition-colors" (click)="onRestoreControlClick()">    
    <app-icon
      fill="#FFF"
      path="M432 48H208c-17.7 0-32 14.3-32 32V96H128V80c0-44.2 35.8-80 80-80H432c44.2 0 80 35.8 80 80V304c0 44.2-35.8 80-80 80H416V336h16c17.7 0 32-14.3 32-32V80c0-17.7-14.3-32-32-32zM48 448c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V256H48V448zM64 128H320c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V192c0-35.3 28.7-64 64-64z"
    ></app-icon>
  </span>
  <span *ngIf="!isMaximized" title="Maximize" class="h-full px-4 flex items-center justify-center hover:bg-gray-700 transition-colors" (click)="onMaximizeControlClick()">    
    <app-icon
      fill="#FFF"
      path="M.3 89.5C.1 91.6 0 93.8 0 96V224 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64V224 96c0-35.3-28.7-64-64-64H64c-2.2 0-4.4 .1-6.5 .3c-9.2 .9-17.8 3.8-25.5 8.2C21.8 46.5 13.4 55.1 7.7 65.5c-3.9 7.3-6.5 15.4-7.4 24zM48 224H464l0 192c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16l0-192z"
    ></app-icon>
  </span>
  <span title="Close" class="h-full px-4 flex items-center justify-center hover:bg-red-600 transition-colors" (click)="onCloseControlClick()">
    <app-icon
      fill="#FFF"
      path="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
      [isAutoCenter]="true"
    ></app-icon>
  </span>
</div>

<app-menu-popup 
  [target]="menuTrigger" 
  [dataSource]="menuItems" 
  [(isShown)]="isMenuShown" 
  [dropdownPositions]="menuDropdownPositions"
></app-menu-popup>
